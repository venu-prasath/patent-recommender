{
    "patent_id": "US-10606270-B2",
    "title": "Controlling an autonomous vehicle using cost maps ",
    "assignee": "Luminar Technologies, Inc.",
    "publication_date": "2020-03-31",
    "patent_link": "https://patents.google.com/patent/US10606270B2/en",
    "inventors": [
        "Benjamin Englard",
        "Gauri Gandhi",
        "Pranav Maheshwari"
    ],
    "classifications": [
        "G05D1/0088",
        "B60W30/18145",
        "B60W30/18154",
        "B60W30/18159",
        "B60W40/02",
        "B60W60/0011",
        "B60W60/0027",
        "G01C21/3407",
        "G01C21/3492",
        "G01C21/3602",
        "G01C21/3691",
        "G05D1/0212",
        "G05D1/0217",
        "G05D1/0221",
        "G05D1/0231",
        "G05D1/024",
        "G05D1/0257",
        "G05D1/027",
        "G05D1/0274",
        "G05D1/0278",
        "G06F16/285",
        "G06N3/006",
        "G06N3/08",
        "G06N5/022",
        "G06N5/046",
        "B60W2050/0006",
        "B60W2420/52",
        "B60W2552/53",
        "B60W2554/402",
        "B60W2556/50",
        "G05D2201/0213",
        "G06N3/126"
    ],
    "abstract": "A computer-readable medium stores instructions executable by one or more processors to implement a self-driving control architecture for controlling an autonomous vehicle. A perception and prediction component receives sensor data, and generates (1) an observed occupancy grid indicating which cells are currently occupied in a two-dimensional representation of the environment, and (2) predicted occupancy grids indicating which cells are expected to be occupied later. A mapping component provides navigation data for guiding the vehicle toward a destination, and a cost map generation component is configured to generate, based on the observed occupancy grid, the predicted occupancy grid(s), and the navigation data, cost maps that each specify numerical values representing a cost, at a respective instance of time, of occupying certain cells in a two-dimensional representation of the environment. A motion planner generates a grid path through the environment based on the cost maps, and corresponding decisions for maneuvering the vehicle.",
    "claims": "\n1. A non-transitory computer-readable medium storing thereon instructions that, when executed by one or more processors, cause the one or more processors to:\nreceive sensor data and, based on the received sensor data, generate, for each area in a first set of areas in an environment through which an autonomous vehicle is moving, (i) first data indicating whether the area is currently occupied, and (ii) second data indicating whether the area is currently expected to be occupied at one or more future instances in time;\nprovide navigation data for guiding the autonomous vehicle through the environment toward a destination;\ngenerate a plurality of cost maps based on (i) the first data, (ii) the second data, and (iii) the navigation data, each cost map specifying numerical values representing costs, at a respective instance of time, of the autonomous vehicle occupying each of the first set of areas, wherein\ngenerating the plurality of cost maps includes generating a first cost map corresponding to a first instance of time,\ngenerating the first cost map includes generating a first set of costs, of a second set of one or more areas around a detected object, that decrease with distance from the detected object to form a halo around the detected object,\ngenerating the first set of costs includes generating the first set of costs based in part on a speed, at the first instance of time, of the detected object, such that a size and/or an intensity of the halo depends upon the speed of the detected object, and\nthe second set of areas is a subset of the first set of areas; and\ngenerate, based on the plurality of cost maps, a path through the environment, and generate decisions for maneuvering the autonomous vehicle toward the destination based on the path.\n2. The non-transitory computer-readable medium of claim 1, wherein the instructions cause the one or more processors to generate the plurality of cost maps at least in part by:\ndetermining a risk that is associated with the autonomous vehicle being in each area of the first set of areas; and\ndetermining a numerical value for each area of the first set of areas based on the determined risk.\n3. The non-transitory computer-readable medium of claim 1, wherein the instructions cause the one or more processors to generate the plurality of cost maps at least in part by, for a first area in the first set of areas:\nusing the navigation data to determine a deviation, from a target location, that is associated with the autonomous vehicle being in the first area; and\ndetermining a numerical value for the first area based on the determined deviation.\n4. The non-transitory computer-readable medium of claim 1, wherein the instructions cause the one or more processors to generate the plurality of cost maps at least in part by, for a first area in the first set of areas:\nusing the navigation data to determine multiple deviations from multiple respective target locations; and\ndetermining a numerical value for the first area based on a sum of numerical values associated the determined multiple deviations.\n5. The non-transitory computer-readable medium of claim 1, wherein the instructions cause the one or more processors to generate the plurality of cost maps at least in part by, for a first area in the first set of areas:\ndetermining a risk that is associated with the autonomous vehicle being in the first area;\nusing the navigation data to determine a deviation, from a target location, that is associated with the autonomous vehicle being in the area of the environment represented by the first area; and\ndetermining a numerical value for the first area based on the determined risk and the determined deviation.\n6. The non-transitory computer-readable medium of claim 1, wherein the instructions cause the one or more processors to generate costs of a third set of one or more areas associated with a lane in which the autonomous vehicle is located, wherein the costs for areas located near a center of the lane are lower than costs for areas located near an edge of the lane, and wherein the third set of areas is another subset of the first set of areas.\n7. The non-transitory computer-readable medium of claim 1, wherein as the autonomous vehicle approaches a crosswalk associated with a stop sign, the instructions cause the one or more processors to assign costs having relatively high numerical values to a third set of one or more areas associated with the crosswalk, wherein the third set of areas is another subset of the first set of areas.\n8. The non-transitory computer-readable medium of claim 1, wherein the instructions cause the one or more processors to assign, to a third set of one or more areas, costs that change with time, wherein the third set of areas is another subset of the first set of areas.\n9. The non-transitory computer-readable medium of claim 8, wherein the third set of areas are part of an intersection associated with a traffic signal, and wherein the costs are changed based on a state of the traffic signal.\n10. The non-transitory computer-readable medium of claim 1, wherein the instructions cause the one or more processors to generate costs based at least in part on a data set of human drivers, the data set comprising location information for vehicles driven by the human drivers.\n11. A method of controlling an autonomous vehicle, the method comprising:\nreceiving sensor data;\ngenerating, based on the received sensor data, and for each area in a first set of areas in an environment through which the autonomous vehicle is moving, (i) first data indicating whether the area is currently occupied, and (ii) second data indicating whether the area is currently expected to be occupied at one or more future instances in time;\nreceiving navigation data configured to guide the autonomous vehicle through the environment toward a destination;\ngenerating a plurality of cost maps based on (i) the first data, (ii) the second data, and (iii) the navigation data, each cost map specifying numerical values representing costs, at a respective instance of time, of the autonomous vehicle occupying each of the first set of areas, wherein\ngenerating the plurality of cost maps includes generating a first cost map corresponding to a first instance of time,\ngenerating the first cost map includes generating a first set of costs, of a second set of one or more areas around a detected object, that decrease with distance from the detected object to form a halo around the detected object,\ngenerating the first set of costs includes generating the first set of costs based in part on a speed, at the first instance of time, of the detected object, such that a size and/or an intensity of the halo depends upon the speed of the detected object, and\nthe second set of areas is a subset of the first set of areas;\ngenerating, based on the plurality of cost maps, a path through the environment; and\ngenerating decisions for maneuvering the autonomous vehicle toward the destination based on the path.\n12. The method of claim 11, wherein generating the plurality of cost maps includes:\ndetermining a risk that is associated with the autonomous vehicle being in each area in the first set of areas; and\ndetermining a numerical value for each area in the first set of areas based on the determined risk.\n13. The method of claim 11, wherein generating the plurality of cost maps includes, for a first area in the first set of areas:\nusing the navigation data to determine a deviation, from a target location, that is associated with the autonomous vehicle being in the first area; and\ndetermining a numerical value for the first area based on the determined deviation.\n14. The method of claim 11, wherein generating the plurality of cost maps includes, for a first area in the first set of areas:\ndetermining a risk that is associated with the autonomous vehicle being in the area of the environment represented by the first area;\nusing the navigation data to determine a deviation, from a target location, that is associated with the autonomous vehicle being in the first area; and\ndetermining a numerical value for the first area based on the determined risk and the determined deviation.\n15. An autonomous vehicle comprising:\none or more operational subsystems configured to maneuver the autonomous vehicle, wherein the operational subsystems collectively control at least speed and direction of the autonomous vehicle;\na sensor system including one or more sensor types and configured to generate sensor data; and\na computing system configured to\nreceive the sensor data from the sensor system,\ngenerate, based on the received sensor data, and for each area in a first set of areas in an environment through which the autonomous vehicle is moving, (i) first data indicating whether the area is currently occupied, and (ii) second data indicating whether the area is currently expected to be occupied at one or more future instances in time,\nreceive navigation data configured to guide the autonomous vehicle through the environment toward a destination,\ngenerate a plurality of cost maps based on (i) the first data, (ii) the second data, and (iii) the navigation data, each cost map specifying numerical values representing costs, at a respective instance of time, of the autonomous vehicle occupying each of the first set of areas, wherein\ngenerating the plurality of cost maps includes generating a first cost map corresponding to a first instance of time,\ngenerating the first cost map includes generating a first set of costs, of a second set of one or more areas around a detected object, that decrease with distance from the detected object to form a halo around the detected object,\ngenerating the first set of costs includes generating the first set of costs based in part on a speed, at the first instance of time, of the detected object, such that a size and/or an intensity of the halo depends upon the speed of the detected object, and\nthe second set of areas is a subset of the first set of areas,\ngenerate, based on the plurality of cost maps, a path through the environment,\ngenerate decisions for maneuvering the autonomous vehicle toward the destination based on the path, and\nprovide the generated decisions to the one or more operational subsystems to effectuate maneuvering of the autonomous vehicle in accordance with the generated decisions.\n16. The autonomous vehicle of claim 15, wherein the numerical value for each area in the first set of areas represents one or both of (i) a risk that is associated with the autonomous vehicle being in each area in the first set of areas, and (ii) a deviation, from a target location, that is associated with the autonomous vehicle being in each area in the first set of areas.",
    "status": "Active",
    "citations_own": [
        "US7272474B1",
        "US20110029235A1",
        "US20110028235A1",
        "US20110098886A1",
        "US20130120125A1",
        "US20130253793A1",
        "US9176500B1",
        "US20160375912A1",
        "US9600768B1",
        "US20170097640A1",
        "US20170123429A1",
        "WO2017079219A1",
        "US20170168488A1",
        "WO2017120336A2",
        "US20170248964A1",
        "US9834212B2",
        "US20170357267A1",
        "US20180089563A1",
        "US9988046B2",
        "US10077056B1",
        "US20180292830A1"
    ],
    "citations_ftf": [
        "JP6673293B2"
    ],
    "citedby_own": [
        "US20200065711A1",
        "US20200393562A1",
        "US11252359B1",
        "US11581697B2",
        "US11585910B1",
        "US11600654B2",
        "US11601733B2",
        "US11619914B2",
        "US20230192127A1",
        "US11722141B1",
        "US11770632B2",
        "US11802945B2",
        "US11815406B2"
    ],
    "citedby_ftf": [
        "CN108431549B",
        "EP3298874B1",
        "US10421460B2",
        "MX2019009397A",
        "JP6610601B2",
        "US10678241B2",
        "US10551849B2",
        "US10788831B2",
        "WO2019089015A1",
        "US10371537B1",
        "US10860018B2",
        "US11328210B2",
        "US11016491B1",
        "US10749960B2",
        "US10737717B2",
        "KR102419313B1",
        "US11354458B1",
        "US11468310B2",
        "US10809735B2",
        "US11467590B2",
        "US11625036B2",
        "US11169536B2",
        "US11561541B2",
        "US11126199B2",
        "US10522038B2",
        "US11511745B2",
        "US10990096B2",
        "US11602999B1",
        "US10860025B2",
        "US10551840B2",
        "US11579614B2",
        "US10678246B1",
        "US11204605B1",
        "US10663963B2",
        "US11547052B1",
        "US10969789B2",
        "US11656626B2",
        "US11644843B2",
        "KR20200064182A",
        "US11593539B2",
        "US10955853B2",
        "IL270540A",
        "US10703365B1",
        "US11435751B2",
        "US10991244B2",
        "US10990105B2",
        "US11126178B2",
        "US11373466B2",
        "US11410475B2",
        "US10829114B2",
        "US10969470B2",
        "US11364936B2",
        "US10853671B2",
        "CN110069064B",
        "US11155258B2",
        "JP2020160603A",
        "US11314254B2",
        "US11507084B2",
        "EP3720098B1",
        "US11341846B2",
        "US11403938B2",
        "US10699564B1",
        "US11335189B2",
        "US11335191B2",
        "US20220281464A1",
        "US11110917B2",
        "RU2767955C1",
        "US11150670B2",
        "CN110244721B",
        "US20220250626A1",
        "US11327497B2",
        "US20200406928A1",
        "US11294385B2",
        "KR102224637B1",
        "US11531346B2",
        "KR102275300B1",
        "US11023749B2",
        "KR102361130B1",
        "KR102297496B1",
        "KR102302575B1",
        "US20210020045A1",
        "CN110375751A",
        "WO2021021008A1",
        "JP7312054B2",
        "US11755884B2",
        "US11392796B2",
        "US11636334B2",
        "CN110531766B",
        "US11370435B2",
        "US11353873B2",
        "US11460843B2",
        "CN112660148B",
        "US20210095977A1",
        "US11726492B2",
        "CN110647161B",
        "CN110874098A",
        "EP3816741A1",
        "WO2021102031A1",
        "CN111006666B",
        "US11635758B2",
        "US11614742B2",
        "CN110843746B",
        "US11514363B2",
        "CN111079288B",
        "EP3838505A1",
        "US11613269B2",
        "US11300957B2",
        "RU2751734C2",
        "JP7331704B2",
        "JP7287287B2",
        "WO2021150497A1",
        "US11577746B2",
        "US11714971B2",
        "EP4111288A1",
        "DE102020202540A1",
        "US11759951B2",
        "US11708089B2",
        "US20210276591A1",
        "CN111273551B",
        "EP3879400A1",
        "US11782438B2",
        "CN111625989A",
        "JP7115502B2",
        "US11442464B2",
        "US11460847B2",
        "JP2021155006A",
        "JP2021160530A",
        "DE102020108857A1",
        "JP2021165080A",
        "US20210325893A1",
        "US11532059B2",
        "JP2021174386A",
        "FR3110043B1",
        "US11566912B1",
        "US11080602B1",
        "CN113873426A",
        "WO2022006418A1",
        "CA3156840C",
        "DE102020117638A1",
        "US20220011775A1",
        "US20220019223A1",
        "US20220017113A1",
        "US20220066459A1",
        "CN112148010A",
        "US20220126865A1",
        "DE102020006719A1",
        "CN114475602B",
        "EP4001041A1",
        "US20220153309A1",
        "US11753041B2",
        "US20220161786A1",
        "EP4260009A1",
        "CN112595328A",
        "FR3117979A1",
        "FR3117974A1",
        "US11568649B2",
        "CN115031981A",
        "DE102021202468A1",
        "US20220306156A1",
        "WO2022212944A1",
        "US20220379895A1",
        "US20220382279A1",
        "WO2022256249A1",
        "US11685408B1",
        "US20220410876A1",
        "CN113479197A",
        "EP4137845A1",
        "US11504622B1",
        "US11697069B1",
        "WO2023028437A1",
        "CN113534214B",
        "US20230125433A1",
        "US11738684B2",
        "US20230281257A1",
        "CN116796210A"
    ]
}