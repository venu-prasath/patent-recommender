{
    "patent_link": "https://patents.google.com/patent/US5544345A/en",
    "patent_id": "US5544345A",
    "title": "Coherence controls for store-multiple shared data coordinated by cache directory entries in a shared electronic storage",
    "abstract": "A high-speed cache is shared by a plurality of independently-operating data systems in a multi-system data sharing complex. Each data system has access both to the high-speed cache and to lower-speed, upper-level storage for obtaining and storing data. Management logic in the shared high-speed cache is provided to meet the serialization and data coherency requirements of the data systems when sharing the high speed cache as a store-multiple cache in a multi-system environment.",
    "inventors": [
        "Kelly S. Carpenter",
        "Gerard M. Dearing",
        "Jeffrey M. Nick",
        "Jimmy P. Strickland",
        "Michael D. Swanson",
        "Wendell W. Wilkinson"
    ],
    "assignee": "International Business Machines Corp",
    "classifications": [
        "G06F12/084",
        "G06F12/0866"
    ],
    "claims": "\n1. A coordination method for writing shared data in a computer sysplex having a plurality of central processor complexes (CPCs) having local storages containing local caches, direct access storage devices (sysplex DASDs) connected to the CPCs for storing data items sharable among the CPCs in the sysplex, and at least one shared electronic storage (SES) connected to some or all CPCs in the sysplex, the write coordination method comprising the steps of:\ncommand signalling a write command by a CPC to a SES to access a SES directory entry associated with a new data version of a data item contained in the CPC,\nwriting an unchanged state indication in the SES directory entry for the new version in response to the write command, writinq the new version of the data item from the CPC to the sysplex DASD in coordination with the SES directory entry, and optionally writing the data item in a SES data area in the SES if indicated by the write command,\nSES requesting CPC invalidation of each copy (complement copy) of the data item in the CPCs for coordinating the execution of the write command, except not invalidating a copy associated with the signalling Step in the CPC sending the write command,\nsetting into the SES directory entry a write-for-castout indication and a lock indication for identifying the CPC sending the write command and to lock the SES directory entry,\nexecuting by the CPC an I/O transfer of the data item from the CPC to the sysplex DASD in response to the CPC receiving a command acceptance signal from the SES,\nlock-release signalling by the CPC to the SES in response to the CPC receiving a successful I/O write completion signal from the sysplex DASD, and\nresetting by the SES to an unlocked state the write-for-castout indication and the lock indication in the SES directory entry in response to the lock-release signalling step to allow other CPC commands to access the SES directory entry and to control accessing of any copy of the data item in the SES which may or may not be storing a copy of the data item.\n2. A write coordination method in a sysplex as defined in claim 1, further comprising the step of:\nsensing for a locked state in the SES directory entry in response to the command signalling step, SES rejecting the command if a lock state is found, and SES accepting the command if acceptance conditions are indicated in the SES directory entry including an unlocked state, and\nresponse signalling by SES to the CPC the SES command acceptance signal or a SES command rejection response signal in response to the sensing step.\n3. A write coordination method in a sysplex as defined in claim 2, the command signalling step further comprising the step of:\nexecuting a write-and-register command or a write-when-registered command as the write command.\n4. A write coordination method in a sysplex as defined in claim 1, the SES writing step further comprising the step of:\nSES writing in the SES directory entry an unchanged indication in a change field for the write command, and\nwriting a lock indication in a castout-lock-state field in the SES directory entry.\n5. A write coordination method in a sysplex as defined in claim 4, further comprising the steps of:\nsensing the castout-lock-state field in the SES directory entry when the write command is received by SES from a CPC for the SES directory entry, and\nrejecting the write command by SES if a write-for-castout state indication is found in the castout-lock-state field for indicating the entry is currently locked for another command doing a store-multiple write operation.\n6. A write coordination method in a sysplex as defined in claim 4, further comprising the steps of:\nrejecting by SES of commands specifying the setting of the castout-lock indication while the SES directory entry is locked.\n7. A write coordination method in a sysplex as defined in claim 4, further comprising the steps of:\ncommand signalling a read command by a CPC to SES to access the data item in the SES data area associated with the SES directory entry for reading an associated data item from SES to the CPC, and\nreturning to the CPC a state indication for indicating the content of the castout-lock-state field in the SES directory entry.\n8. A write coordination method in a sysplex as defined in claim 7, further comprising the steps of:\nblocking use of the data item received by the CPC from SES when the returned state indication for the castout-lock-state field is a write-for-castout indication.\n9. A write coordination method in a sysplex as defined in claim 1, the invalidating step further comprising the steps of:\nSES identifying a CPC location for each complementary copy registered with the SES directory entry, and\nSES sending an invalidate-complement-copy signal to each identified CPC location having a complement copy to be invalidated except the CPC location associated with the write command.\n10. A write coordination method in a sysplex as defined in claim 4, further comprising the steps of:\ndetecting by a non-failing CPC of a failing CPC in the sysplex,\nsending by the non-failing CPC of a detach-local-cache (DLC) command to SES,\nexamining by the DLC command of a collection of SES directory entries in each SES directory to locate each SES directory entry containing a lock indication identifying the failing CPC,\ninterrogating the castout-lock-state field in each located SES directory entry, and\nif the castout-lock-state field is set to a read-for-castout indication, resetting the castout-lock field and the castout-lock state,\nand setting the SES directory entry to contain a changed indication.\n11. A write coordination method in a sysplex as defined in claim 4, further comprising the steps of:\ndetecting by a non-failing CPC of a failing CPC in the sysplex,\nsending by the non-failing CPC of a detach-local-cache (DLC) command to SES,\nexamining by the DLC command of a collection of SES directory entries in each SES directory to locate each SES directory entry containing a lock indication identifying the failing CPC,\ninterrogating the castout-lock-state field in each located SES directory entry, and\nif the castout-lock-state field is set to a write-for-castout indication, invalidating the SES directory entry and invalidating any copy of the data item in every CPC.\n12. A write coordination method in a sysplex as defined in claim 4, further comprising the steps of:\nCPC sending a read-for-castout (RFC) command to SES,\nSES responding to the RFC command by setting a read-for-castout indication in the castout-lock-state field,\nsetting a lock indication in the castout-lock field for identifying the CPC-source of the command, and\nsending to the CPC any SES-stored data item associated with the SES directory entry only if the lock indication in the SES directory entry is set to a reset state indicating the SES directory entry is not currently locked, and SES not sending the data to the CPC if the SES directory entry contains the lock indication.",
    "status": "Expired - Lifetime",
    "citations_own": [
        "US4197580A",
        "US4984153A",
        "US5408653A",
        "US5423044A"
    ],
    "citations_ftf": [],
    "citedby_own": [
        "US5664155A",
        "US5706509A",
        "US5734922A",
        "US5742792A",
        "US5748879A",
        "US5748984A",
        "US5758339A",
        "US5790887A",
        "US5812996A",
        "US5822562A",
        "US5829051A",
        "GB2325540A",
        "US5889935A",
        "US5893140A",
        "US5892915A",
        "US5923831A",
        "US5933603A",
        "US5948062A",
        "US5974503A",
        "US5987462A",
        "US5987621A",
        "US6003106A",
        "US6026413A",
        "US6052797A",
        "US6061755A",
        "US6061504A",
        "US6070231A",
        "US6070164A",
        "US6073216A",
        "US6128706A",
        "US6170063B1",
        "US6216212B1",
        "US6237000B1",
        "US6298386B1",
        "US20010042111A1",
        "US6321235B1",
        "US20010047459A1",
        "US20010047389A1",
        "US20010047381A1",
        "US6353833B1",
        "US6397206B1",
        "WO2002075535A1",
        "US20020188691A1",
        "US20030041094A1",
        "US6542970B1",
        "US6542926B2",
        "US6546466B1",
        "US6546414B1",
        "US6557082B1",
        "US20030101155A1",
        "US20030135495A1",
        "US6609214B1",
        "US20030191984A1",
        "US20030200197A1",
        "US6651139B1",
        "US20030225800A1",
        "US20040010487A1",
        "US6711653B1",
        "US20040107318A1",
        "US20040167942A1",
        "US20040165610A1",
        "US20040221114A1",
        "US20040225634A1",
        "US6823337B2",
        "US20040250033A1",
        "US6848037B2",
        "US20050033800A1",
        "US20050033913A1",
        "US20050033756A1",
        "US20050033755A1",
        "US20050039051A1",
        "US20050039069A1",
        "US6862595B1",
        "US20050078611A1",
        "US20050091459A1",
        "US20050174869A1",
        "US20050187992A1",
        "US20050210216A1",
        "US20050240737A1",
        "US20050246510A1",
        "US6963882B1",
        "US20050257219A1",
        "US20050262313A1",
        "US20050262513A1",
        "US20050268068A1",
        "US20050289189A1",
        "US20050289188A1",
        "US20060004801A1",
        "US20060020752A1",
        "US20060020913A1",
        "US7035880B1",
        "US20060095483A1",
        "US20060136683A1",
        "US20060155712A1",
        "US7107298B2",
        "US20060224846A1",
        "US20060230244A1",
        "US20060253844A1",
        "US20070050377A1",
        "US7209972B1",
        "US20070100954A1",
        "US20070100828A1",
        "US20070101080A1",
        "US20070100918A1",
        "US20070101057A1",
        "US20070126750A1",
        "US20070143756A1",
        "US20070140525A1",
        "US20070143497A1",
        "US20070143238A1",
        "US20070162359A1",
        "US20070166674A1",
        "US20070174734A1",
        "US20070185921A1",
        "US20070198797A1",
        "US20070198802A1",
        "US20070198421A1",
        "US7277941B2",
        "US20070266216A1",
        "US20080037777A1",
        "US20080059704A1",
        "US7343459B2",
        "US20080065644A1",
        "US20080077715A1",
        "US20080098041A1",
        "US20080098173A1",
        "US7370134B2",
        "US20080114896A1",
        "US20080114943A1",
        "US20080114945A1",
        "US20080120477A1",
        "US20080120478A1",
        "US20080126502A1",
        "US20080126516A1",
        "US20080123642A1",
        "US20080126322A1",
        "US20080126703A1",
        "US20080126506A1",
        "US7382639B2",
        "US20080133859A1",
        "US20080130652A1",
        "US20080133689A1",
        "US20080133871A1",
        "US20080133869A1",
        "US20080133690A1",
        "US20080134189A1",
        "US20080141092A1",
        "US20080140937A1",
        "US20080140805A1",
        "US20080140975A1",
        "US7389311B1",
        "US20080147997A1",
        "US7392331B2",
        "US20080155205A1",
        "US20080154987A1",
        "US20080155127A1",
        "US7395282B1",
        "US20080162485A1",
        "US20080189383A1",
        "US20080209040A1",
        "US20080229037A1",
        "US20080228785A1",
        "US20080243957A1",
        "US20080243795A1",
        "US20080250213A1",
        "US20080250221A1",
        "US7440982B2",
        "US20080263043A1",
        "US20080288738A1",
        "US7489875B2",
        "US7546435B2",
        "US7546324B2",
        "US7557601B2",
        "US7590797B2",
        "US7593336B2",
        "US7606844B2",
        "US7613748B2",
        "US7619974B2",
        "US20090319585A1",
        "US20100002873A1",
        "US20100005259A1",
        "US20100031017A1",
        "US20100070725A1",
        "US20100121935A1",
        "US7725878B1",
        "US20100169287A1",
        "US7792789B2",
        "US20100242096A1",
        "US7805586B2",
        "US7822749B2",
        "US7836174B2",
        "US20100333116A1",
        "US20110004683A1",
        "US7882077B2",
        "US7882098B2",
        "US7940706B2",
        "US7962455B2",
        "US7962709B2",
        "US20110145627A1",
        "US20110239013A1",
        "US8121983B2",
        "US8204859B2",
        "US8271830B2",
        "US8285684B2",
        "US8290808B2",
        "US8296301B2",
        "US8312323B2",
        "US8335776B2",
        "US20120324173A1",
        "US8341182B2",
        "US8352954B2",
        "US8352422B2",
        "US8364652B2",
        "US8370542B2",
        "US8370442B2",
        "US8396838B2",
        "US8401996B2",
        "US8433682B2",
        "US8442983B2",
        "US8484162B2",
        "US8489656B2",
        "US8504517B2",
        "US8504515B2",
        "US8572340B2",
        "US8572330B2",
        "US8578120B2",
        "US8595191B2",
        "US8620870B2",
        "US8706867B2",
        "US8706976B2",
        "US8719264B2",
        "US8719809B2",
        "US8719767B2",
        "US8725698B2",
        "US8726242B2",
        "US8725688B2",
        "US8769048B2",
        "US8849762B2",
        "US8892523B2",
        "US8930518B2",
        "US8930306B1",
        "US8930496B2",
        "US8935492B2",
        "US8938587B2",
        "US8950009B2",
        "US8954446B2",
        "US8959299B2",
        "US9015181B2",
        "US9020890B2",
        "US9021198B1",
        "US9021452B2",
        "US9020900B2",
        "US9063938B2",
        "US9069799B2",
        "US9092500B2",
        "US9098495B2",
        "US9116633B2",
        "US9128883B2",
        "US9135174B2",
        "US9152685B2",
        "US9178842B2",
        "US20150317205A1",
        "US20150347045A1",
        "US9218376B2",
        "US9244779B2",
        "US9262435B2",
        "US9262496B2",
        "US9298715B2",
        "US9342537B2",
        "US9367702B2",
        "US9372827B2",
        "US9378035B2",
        "US9405928B2",
        "US9417968B2",
        "US9436555B2",
        "US9444811B2",
        "US9448731B2",
        "US9461881B2",
        "US9459968B2",
        "US9471578B2",
        "US9477412B1",
        "US9489244B2",
        "US9495404B2",
        "US9495251B2",
        "US9495382B2",
        "US9529871B2",
        "US9529622B1",
        "US9535776B2",
        "US9547597B2",
        "US9547553B1",
        "US9563514B2",
        "US9575673B2",
        "US9633216B2",
        "US9632936B1",
        "US9632874B2",
        "US9633056B2",
        "US9633033B2",
        "US9633025B2",
        "US9633022B2",
        "US9639426B2",
        "US9639297B2",
        "US9639473B1",
        "US9648100B2",
        "US9648105B2",
        "US9684535B2",
        "US9690713B1",
        "US9703584B2",
        "US9710465B2",
        "US9720826B1",
        "US9740702B2",
        "US9740574B2",
        "US9753812B2",
        "US9753873B1",
        "US9760446B2",
        "US9766825B2",
        "US9774672B2",
        "US9781027B1",
        "US9823978B2",
        "US9823977B2",
        "US9848045B2",
        "US9886346B2",
        "US9898213B2",
        "US9904481B2",
        "US9928144B2",
        "US9939981B2",
        "US10042716B2",
        "US10061663B2",
        "US10084873B2",
        "US10089337B2",
        "US10101913B2",
        "US10152251B2",
        "US10157184B2",
        "US10162528B2",
        "US10176036B2",
        "US10275320B2",
        "US10311150B2",
        "US10313243B2",
        "US10324897B2",
        "US10339106B2",
        "US10346259B2",
        "US10380072B2",
        "US10379988B2",
        "US10389810B2",
        "US10387073B2",
        "US10404799B2",
        "US10417102B2",
        "US10459666B2",
        "US10474542B2",
        "US10481824B2",
        "US10503753B2",
        "US10540516B2",
        "US10547678B2",
        "US10552294B2",
        "US10565067B2",
        "US10572445B2",
        "US10642886B2",
        "US10650057B2",
        "US20200151096A1",
        "US10678758B2",
        "US10691599B1",
        "US10705957B1",
        "US10732885B2",
        "US10733102B2",
        "US10742735B2",
        "US10768971B2",
        "US10776209B2",
        "US10776329B2",
        "US10789387B2",
        "US10795927B2",
        "US10802973B1",
        "US10831591B2",
        "US10838821B2",
        "US10853195B2",
        "US10877928B2",
        "US10891198B2",
        "US10891069B2",
        "US10922189B2",
        "US10949308B2",
        "US10949382B2",
        "US10956299B2",
        "US10984041B2",
        "US10996974B2",
        "US11010261B2",
        "US11010258B2",
        "US11032350B2",
        "US11042318B2",
        "US11074138B2",
        "US11074140B2",
        "US11108858B2",
        "US11159469B2",
        "US11221939B2",
        "US11249858B2",
        "US11269734B2",
        "US11294786B2",
        "US11294768B2",
        "US11308034B2",
        "US11314687B2",
        "US11321195B2",
        "US11321188B2",
        "US11321189B2",
        "US11366723B2",
        "US11416341B2",
        "US11422900B2",
        "US11436038B2",
        "US11442820B2",
        "US11442768B2",
        "US11442896B2",
        "US11449253B2",
        "US11449394B2",
        "US11463264B2",
        "US11467753B2",
        "US11494417B2",
        "US11500669B2",
        "US11550680B2",
        "US11561866B2",
        "US11567934B2",
        "US11573866B2",
        "US11593223B1",
        "US11593217B2",
        "US11604706B2",
        "US11656951B2",
        "US11663099B2",
        "US11687424B2",
        "US11698727B2",
        "US11809285B2"
    ],
    "citedby_ftf": []
}