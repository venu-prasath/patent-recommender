{
    "patent_id": "US-11538539-B2",
    "title": "Method and system involving degradation of non-volatile memory based on write commands and drive-writes ",
    "assignee": "Western Digital Technologies, Inc.",
    "publication_date": "2022-12-27",
    "patent_link": "https://patents.google.com/patent/US11538539B2/en",
    "inventors": [
        "Jay Sarkar",
        "Cory PETERSON",
        "Amir SANAYEI",
        "Vidyabhushan Mohan",
        "Yao Zhang"
    ],
    "classifications": [
        "G11C16/349",
        "G06F12/0246",
        "G06F3/0616",
        "G06F3/0619",
        "G06F3/0653",
        "G06F3/0679",
        "G06N20/00",
        "G06N5/04",
        "G06N7/005",
        "G06N7/01",
        "G11C29/52",
        "G06F2212/7211",
        "G06N3/08",
        "G06N5/01",
        "G11C2029/0401"
    ],
    "abstract": "Systems and methods for solid-state storage drive-level failure prediction and health metric are described. A plurality of host-write commands are received at a solid-state storage device. A number of drive-writes per day based on the on the plurality of host-write commands is determined. An aggregated amount of degradation to one or more internal non-volatile memory components based on the number of drive-writes per day is determined. Using a machine-learned model, a probability of failure value based on a set of parameter data and the aggregated amount of degradation to the non-volatile memory component is generated. An alert is generated, based on the probability of failure value or degradation threshold.",
    "claims": "\n1. A data storage system, comprising:\na non-volatile memory component; and\none or more controllers configured to cause:\nobtaining a plurality of write commands;\ndetermining, based on the plurality of write commands, a number of drive-writes per period;\ndetermining, based on the number of drive-writes per period, an amount of degradation to the non-volatile memory component;\ngenerating, based on a machine-learned model, a probability of failure value, which is based on data associated with input parameters for the machine-learned model and the amount of degradation to the non-volatile memory component;\ndetermining whether the probability of failure value satisfies one of a first threshold probability of failure value and a second threshold probability of failure value;\ngenerating, based on determining that the probability of failure value satisfies one of the first and second threshold probability of failure values, an alert; and\nin response to the alert generated based on determining that the probability of failure value satisfies the first threshold probability of failure value, obtaining a reduced number of write commands from a host,\nwherein:\nthe amount of degradation to the non-volatile memory component comprises a throughput acceleration coefficient;\nthe data storage system is configured to determine the throughput acceleration coefficient based on a ratio between the number of drive-writes per period and a drive-writes per period specification;\nthe data storage system is further configured to determine the number of drive-writes per period based on the plurality of write commands and a total amount of data written to the non-volatile memory component; and\nthe drive-writes per period specification is a pre-determined number of drive-writes per period for the non-volatile memory component.\n2. The data storage system of claim 1, wherein:\nthe data storage system is further configured to determine the throughput acceleration coefficient by dividing the number of drive-writes per period by the drive-writes per period specification;\nthe data storage system is further configured to determine the number of drive-writes per period, based on the plurality of write commands, the total amount of data written to the non-volatile memory component, and a data storage capacity of the non-volatile memory component; and\nthe drive-writes per period specification is the pre-determined number of drive-writes per period for the non-volatile memory component to handle in order for the data storage system to operate for a given period of time.\n3. The data storage system of claim 1, wherein the data associated with the input parameters for the machine-learned model comprises:\nnon-volatile memory translation layer management events data;\ncontroller initiated data movement for non-volatile memory endurance management event data;\nnon-volatile memory defect density data;\ncontroller initiated data movement in non-volatile memory event data;\ncontroller initiated data movement in non-volatile memory for managing defragmentation of the non-volatile memory event data;\nnon-volatile memory bit error rate data;\ncontroller initiated non-volatile memory erase or rewrite operation management data; and\ncontroller initiated event for non-volatile memory data movement and correction in response to errors data.\n4. The data storage system of claim 1, wherein the data storage system is further configured to generate the alert in response to the probability of failure value satisfying a threshold probability of failure value.\n5. The data storage system of claim 1, wherein the machine-learned model is associated with the following operations:\nidentifying combinations of input parameter values of the machine-learned model, the combinations capable of resulting in a non-volatile memory component failure;\nranking a set of parameters of the machine-learned model between a high ranking and a low ranking, the ranking associated with the identifying; and\nselecting, from the set of parameters, the input parameters for the machine-learned model based on the high ranking.\n6. The data storage system of claim 5, wherein the machine-learned model is further associated with the following operations:\ngenerating or modifying a set of weights to apply to input parameter values of the machine-learned model based on the ranking;\npredicting a likelihood of the data storage system failing based on the ranking; and\nclassifying the data storage system as a failing data storage system, a failed data storage system, or a surviving data storage system.\n7. The data storage system of claim 1, wherein:\nthe machine-learned model is associated with training using training data from a population of data storage systems;\nthe population of data storage systems includes a first set of data storage systems that has failed and a second set of data storage systems that has not failed; and\nthe training data comprises data related to the first set of data storage systems from a first time stress is applied to the first set of data storage systems until the first set of data storage systems has failed.\n8. The data storage system of claim 7, wherein:\nthe machine-learned model is associated with training using an unseen data set;\nthe unseen data set is data from a third set of data storage systems;\nthe third set of data storage systems is different from the first set of data storage systems and the second set of data storage systems;\nresponsive to the unseen data set being provided to the machine-learned model, the unseen data set is provided in a same order of time as the unseen data set is generated; and\nresponsive to the unseen data set being provided to the machine-learned model, the unseen data set is provided from a first instance of time that the unseen data set is generated until a last instance of time that the unseen data set is generated.\n9. The data storage system of claim 1, wherein in response to the alert generated based on determining that the probability of failure value satisfies the second threshold probability of failure value, the one or more controllers are configured to cause no further writes from the host to the data storage system.\n10. A method, comprising:\nobtaining a plurality of write commands at a data storage device;\ndetermining, based on the plurality of write commands, a number of drive-writes per period;\ndetermining, based on the number of drive-writes per period, an amount of degradation to a non-volatile memory component of the data storage device;\ngenerating, based on a machine-learned model, a probability of failure value, which is based on data associated with input parameters for the machine-learned model and the amount of degradation to the non-volatile memory component;\ndetermining whether the probability of failure value satisfies one of a first threshold probability of failure value and a second threshold probability of failure value;\ngenerating, based on determining that the probability of failure value satisfies one of the first and second threshold probability of failure values, an alert; and\nin response to the alert generated based on determining that the probability of failure value satisfies the first threshold probability of failure value, obtaining a reduced number of write commands from a host,\nwherein:\nthe amount of degradation to the non-volatile memory component comprises a throughput acceleration coefficient;\nthe throughput acceleration coefficient is determined based on a ratio between the number of drive-writes per period and a drive-writes per period specification;\nthe number of drive-writes per period is determined based on the plurality of write commands and a total amount of data written to the non-volatile memory component; and\nthe drive-writes per period specification is a pre-determined number of drive-writes per period for the non-volatile memory component.\n11. The method of claim 10, wherein:\nthe throughput acceleration coefficient is determined by dividing the number of drive-writes per period by the drive-writes per period specification;\nthe number of drive-writes per period is determined based on the plurality of write commands, the total amount of data written to the non-volatile memory component, and a data storage capacity of the non-volatile memory component; and\nthe drive-writes per period specification is the pre-determined number of drive-writes per period for the non-volatile memory component to handle in order for the data storage device to operate for a given period of time.\n12. The method of claim 10, wherein the alert is generated in response to the probability of failure value satisfying a threshold probability of failure value.\n13. The method of claim 10, wherein the machine-learned model is associated with the following operations:\nidentifying combinations of input parameter values of the machine-learned model, the combinations capable of resulting in a non-volatile memory component failure;\nranking a set of parameters of the machine-learned model;\ngenerating or modifying a set of weights to apply to input parameter values of the machine-learned model based on the ranking;\npredicting a likelihood of the data storage device failing based on the ranking; and\nclassifying the data storage device as a failing data storage device, a failed data storage device, or a surviving data storage device.\n14. The method of claim 10, wherein in response to the alert generated based on determining that the probability of failure value satisfies the second threshold probability of failure value, no further writes are made from the host to the data storage system.\n15. An apparatus, comprising:\nmeans for obtaining a plurality of write commands;\nmeans for determining, based on the plurality of write commands, a number of drive-writes per period;\nmeans for determining, based on the number of drive-writes per period, an amount of degradation to a non-volatile memory component,\nwherein the amount of degradation to the non-volatile memory component comprises a throughput acceleration coefficient;\nmeans for generating, based on a machine-learned model, a probability of failure value, which is based on data associated with input parameters for the machine-learned model and the amount of degradation to the non-volatile memory component;\nmeans for determining whether the probability of failure value satisfies one of a first threshold probability of failure value and a second threshold probability of failure value;\nmeans for generating, based on determining that the probability of failure value satisfies one of the first and second threshold probability of failure values, an alert;\nmeans for, in response to the alert generated based on determining that the probability of failure value satisfies the first threshold probability of failure value, obtaining a reduced number of write commands from a host;\nmeans for determining the throughput acceleration coefficient based on a ratio between the number of drive-writes per period and a drive-writes per period specification; and\nmeans for determining the number of drive-writes per period based on the plurality of write commands and a total amount of data written to the non-volatile memory component,\nwherein the drive-writes per period specification is a pre-determined number of drive-writes per period for the non-volatile memory component.\n16. The apparatus of claim 15, wherein:\nthe means for determining the throughput acceleration coefficient comprises means for determining the throughput acceleration coefficient by dividing the number of drive-writes per period by the drive-writes per period specification;\nthe means for determining the number of drive-writes per period comprises means for determining the number of drive-writes per period based on the plurality of write commands, the total amount of data written to the non-volatile memory component, and a data storage capacity of the non-volatile memory component; and\nthe drive-writes per period specification is the pre-determined number of drive-writes per period for the non-volatile memory component to handle in order for the apparatus to operate for a given period of time.\n17. The apparatus of claim 15, wherein the machine-learned model is associated with the following operations:\nidentifying combinations of input parameter values of the machine-learned model, the combinations capable of resulting in a non-volatile memory component failure;\nranking a set of parameters of the machine-learned model;\ngenerating or modifying a set of weights to apply to input parameter values of the machine-learned model based on the ranking\npredicting a likelihood of the apparatus failing based on the ranking; and\nclassifying the apparatus as a failing data storage system, a failed data storage system, or a surviving data storage system.\n18. The apparatus of claim 15, wherein the data associated with the input parameters comprises:\nnon-volatile memory translation layer management events data;\ncontroller initiated data movement for non-volatile memory endurance management event data;\nnon-volatile memory defect density data;\ncontroller initiated data movement in non-volatile memory event data;\ncontroller initiated data movement in non-volatile memory for managing defragmentation of the non-volatile memory event data;\nnon-volatile memory bit error rate data;\ncontroller initiated non-volatile memory erase or rewrite operation management data; and\ncontroller initiated event for non-volatile memory data movement and correction in response to errors data.\n19. The apparatus of claim 15, wherein:\nthe machine-learned model is associated with training using training data from a population of data storage systems;\nthe population of data storage systems includes a first set of data storage systems that has failed and a second set of data storage systems that has not failed; and\nthe training data comprises data related to the first set of data storage systems from a first time stress is applied to the first set of data storage systems until the first set of data storage systems has failed.\n20. The apparatus of claim 15, further comprising: means for, in response to the alert generated based on determining that the probability of failure value satisfies the second threshold probability of failure value, obtaining no further writes from the host.",
    "status": "Active",
    "citations_own": [
        "US20130142024A1",
        "US8639971B1",
        "US20140189404A1",
        "US20150026449A1",
        "US20150046664A1",
        "US20160034206A1",
        "US20160034394A1",
        "US9542296B1",
        "US20170083463A1",
        "US20170177222A1",
        "US20170185904A1",
        "US9747057B1",
        "US20180239540A1",
        "US10157105B2",
        "US20190042126A1",
        "US20190042089A1",
        "US10216558B1",
        "US20190138415A1",
        "US20190198063A1",
        "US20190205193A1",
        "US20190243567A1",
        "US20200042193A1",
        "US10936203B2"
    ],
    "citations_ftf": [],
    "citedby_own": [],
    "citedby_ftf": [
        "US10652206B1",
        "TWI689816B",
        "US10757189B2",
        "US11151014B2",
        "US10769006B2",
        "US11579951B2",
        "US11050660B2",
        "US10754572B2",
        "US11044313B2",
        "US11423327B2",
        "US11443166B2",
        "US10880217B2",
        "US10754559B1",
        "US11258673B2",
        "US11615340B2",
        "CN112052188B",
        "US11049570B2",
        "US11163482B2",
        "US11137915B2",
        "US11016699B2",
        "US11016783B2",
        "KR20210020689A",
        "KR20210031220A",
        "US11086785B2",
        "US10936522B1",
        "US11012510B2",
        "US10884935B1",
        "US11379325B2",
        "US11366590B2",
        "US11082449B2",
        "US11567670B2",
        "US11023161B1",
        "US11106381B2",
        "US11093155B2",
        "US11256421B2",
        "US11372951B2",
        "US11295209B2",
        "US11277335B2",
        "US11099755B2",
        "US11231861B2",
        "US11461026B2",
        "US11520671B2",
        "US11175840B2",
        "US11050825B1",
        "US11316761B2",
        "US11093144B1",
        "US11449257B2",
        "US11669754B2",
        "US11204699B2",
        "US11397589B2",
        "US11042327B1",
        "US11265261B2",
        "US11368399B2",
        "US11080215B1",
        "US11169941B2",
        "US11366756B2",
        "US11210001B2",
        "US11561699B2",
        "US11216200B2",
        "US11409664B2",
        "US11099754B1",
        "US11175828B1",
        "US11012512B1",
        "US11023134B1",
        "US11151071B1",
        "US11797387B2",
        "US11226851B1",
        "US11256446B1",
        "US11157432B1",
        "US11500753B2",
        "US11392459B2",
        "US11320994B2",
        "US11032373B1",
        "US11397540B2",
        "US11630581B2",
        "US11204777B1",
        "US11397539B2",
        "US11543971B2",
        "US11385824B2",
        "US11620240B2",
        "US11409460B2",
        "KR20220080915A",
        "US11455116B2",
        "KR20220090885A",
        "US11651066B2",
        "US11308004B1",
        "US11449440B2",
        "US11494091B2",
        "US11467765B2",
        "US11386023B1",
        "US11640245B2",
        "US11797312B2",
        "US11755222B2",
        "US11294782B1",
        "US11782611B2",
        "US11422718B1",
        "US11550511B2",
        "US11625232B2",
        "US11526283B1",
        "US11762588B2",
        "US11750457B2",
        "KR20230036730A",
        "US11625308B2",
        "US11586356B1",
        "US11687252B2",
        "US11656987B2",
        "US11418594B1",
        "US11567669B1",
        "US11782780B2",
        "WO2023115532A1",
        "US11620054B1",
        "US11789624B1"
    ]
}