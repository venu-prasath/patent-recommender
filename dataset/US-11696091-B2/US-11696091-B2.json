{
    "patent_id": "US-11696091-B2",
    "title": "Systems and methods for device localization ",
    "assignee": "Sonos, Inc.",
    "publication_date": "2023-07-04",
    "patent_link": "https://patents.google.com/patent/US11696091B2/en",
    "inventors": [
        "Kurt Thomas Soto",
        "Charles Conor Sleith"
    ],
    "classifications": [
        "H04W4/023",
        "H04R27/00",
        "G06F3/048",
        "G06F3/0481",
        "G06F3/04847",
        "G06F3/0488",
        "G06F3/04883",
        "G06F3/165",
        "G06N20/00",
        "G06N5/04",
        "G06N7/01",
        "G08C17/02",
        "H04B17/27",
        "H04B17/318",
        "H04N21/2387",
        "H04N21/25841",
        "H04N21/4122",
        "H04N21/43615",
        "H04N21/44227",
        "H04N21/47217",
        "G06F3/167",
        "G08C2201/34",
        "G08C2201/91",
        "H04R2227/005",
        "H04R2420/07"
    ],
    "abstract": "Systems and methods for localizing portable devices are illustrated. One embodiment includes a method for locating a portable device in a network that includes several reference devices. The method measures characteristics of signals transmitted via signal paths between reference devices and a portable device, normalizes the measurements to estimate characteristics of the signal paths, and estimates the likelihood that the portable device is in a particular location. Systems and methods for training prediction models include a method that includes steps for receiving context data for a portable device in a system, wherein the context data includes localization data that describes a location of the portable device, identifying a predicted stationary device based on the context data using a prediction model, identifying a target stationary device from the several stationary devices, training the prediction model based on based on the predicted stationary device and the received input.",
    "claims": "\n1. A method for identifying a target reference portable playback device in a media playback system comprising a plurality of reference devices, the method comprising:\nmeasuring characteristics of signals transmitted via signal paths between each of the plurality of reference devices over a period of time, wherein the plurality of reference devices comprises a plurality of reference playback devices;\nmeasuring characteristics of signals transmitted via signal paths between the portable device and each of the plurality of reference devices;\nnormalizing the measured characteristics to estimate characteristics of the signal paths between each of the plurality of reference devices and between the portable device and each of the plurality of reference devices based on an aggregate statistic of at least one characteristic for a first set of one or more signals from a first reference device to a second reference device and a second set of one or more signals from the second reference device to the first reference device;\nidentifying a particular location associated with the portable device using the normalized characteristics of the signal paths between each of the plurality of reference devices and the normalized characteristics of the signal paths between the portable device and each of the plurality of reference devices; and\nidentifying a set of one or more target reference playback devices of the plurality of reference devices based on the identified particular location.\n2. The method of claim 1, wherein at least two of the plurality of reference devices include different transmitter implementations.\n3. The method of claim 1, wherein the portable device has a transmitter implementation that differs from transmitter implementations of at least one of the plurality of reference devices.\n4. The method of claim 1, wherein the measured characteristics of a particular signal comprise at least one of a received signal strength indicator (RSSI) value, an identifier for a sending reference device that transmitted the particular signal, and a timestamp for the particular signal.\n5. The method of claim 1, wherein identifying the particular location comprises estimating a likelihood that the portable device is in a particular location by computing a set of probabilities that the portable device is near each of at least one reference device of the plurality of reference devices.\n6. The method of claim 5, wherein normalizing the measured characteristics associated with a first reference device comprises:\ncalculating a first signal-strength ratio of signals received at the first reference device from the portable device to signals received at the first reference device from a second reference device; and\ncalculating a second signal-strength ratio of signals received at the second reference device from the portable device to signals received at the second reference device from the first reference device;\nwherein computing the set of probabilities for the first reference device comprises computing a ratio of the first signal-strength ratio to the second signal-strength ratio.\n7. The method of claim 5, wherein normalizing the measured characteristics associated with a first reference device comprises:\ncalculating a first signal-strength ratio of signals received at the first reference device from the portable device to signals received at the first reference device from a second reference device; and\ncalculating a second signal-strength ratio of signals received at a third reference device from the portable device to signals received at the third reference device from the second reference device;\nwherein computing the set of probabilities for the first reference device comprises computing a ratio of the first signal-strength ratio to the second signal-strength ratio.\n8. The method of claim 5, wherein computing the set of probabilities comprises:\nidentifying an offset based on a difference in RSSI values for a first signal path, between the portable device and a first reference device of the plurality of reference devices, and a second signal path, between the portable device and a second reference device of the plurality of reference devices; and\ndetermining a normalized set of one or more RSSI values for the first and second signal paths based on the identified offset.\n9. The method of claim 5, wherein identifying a particular location comprises estimating a likelihood that the portable device is in a particular location, wherein the method further comprises determining a change in location based on changes in the estimated likelihood over a duration of time.\n10. The method of claim 1, wherein the aggregate statistic is a weighted average based on timestamps associated with the first and second sets of one or more signals.\n11. The method of claim 1, further comprising estimating which of the plurality of reference devices is closest to the portable device based on the identified particular location.\n12. The method of claim 1, further comprising selecting a computing reference device of the plurality of reference devices for performing the steps of normalizing the measured characteristics and identifying the particular location.\n13. The method of claim 12, wherein selecting the computing reference device comprises identifying an idle reference device of the plurality of reference devices.\n14. The method of claim 12, wherein selecting the computing reference device comprises identifying an infrequently-used reference device of the plurality of reference devices.\n15. The method of claim 1, further comprising:\nidentifying a nearest reference device from the set of one or more target reference devices based on the identified particular location; and\ntransferring audio playing at the portable device to play at the nearest reference device.\n16. The method of claim 1, wherein the plurality of reference devices further comprises a set of one or more controller devices for controlling playback devices in the media playback system.\n17. A playback device comprising:\none or more amplifiers configured to drive one or more speakers;\nat least one processor; and\nat least one non-transitory computer-readable medium comprising program instructions that are executable by the at least one processor such that the playback device is configured to:\nobtain characteristics of signals transmitted via signal paths between each of a plurality of reference playback devices in a media playback system over a period of time;\nobtain characteristics of signals transmitted via signal paths between a portable device and each of the plurality of reference playback devices;\nnormalize the obtained characteristics to estimate characteristics of the signal paths between each of the plurality of reference playback devices and between the portable device and each of the reference playback devices based on an aggregate statistic of at least one characteristic for a first set of one or more signals from a first reference device of the plurality of reference playback devices to a second reference device of the plurality of reference playback devices and a second set of one or more signals from the second reference device to the first reference device;\nidentify a particular location associated with the portable device using the normalized characteristics of the signal paths between each of the plurality of reference playback devices and the normalized characteristics of the signal paths between the portable device and each of the plurality of reference playback devices;\nidentify a ranked listing of a plurality of target reference playback devices of the plurality of reference playback devices based on the identified particular location; and\ntransmit the ranked listing of the plurality of target reference playback devices to the portable device, wherein the portable device modifies a user interface at the portable device based on the ranked listing.\n18. The playback device of claim 17, wherein the playback device is one of the plurality of reference playback devices.\n19. A controller device, the controller device comprising:\na display configured to display a graphical user interface;\nat least one processor; and\nat least one non-transitory computer-readable medium comprising program instructions that are executable by the at least one processor such that the controller device is configured to:\nobtain characteristics of signals transmitted via signal paths between each of a plurality of reference playback devices in a media playback system over a period of time;\nobtain characteristics of signals transmitted via signal paths between the controller device and each of the plurality of reference playback devices;\nnormalize the obtained characteristics to estimate characteristics of the signal paths between each of the plurality of reference playback devices and between the controller device and each of the reference playback devices based on an aggregate statistic of at least one characteristic for a first plurality signals from a first reference device of the plurality of reference playback devices to a second reference device of the plurality of reference playback devices and a second plurality of signals from the second reference device to the first reference device;\nidentify a particular location associated with the controller device using the normalized characteristics of the signal paths between each of the plurality of reference playback devices and the normalized characteristics of the signal paths between the controller device and each of the plurality of reference playback devices;\nidentify a set of one or more target reference playback devices of the plurality of reference playback devices based on the identified particular location; and\nmodify the graphical user interface displayed on the display based on the identified set of one or more target reference playback devices.",
    "status": "Active",
    "citations_own": [
        "US20060085177A1",
        "US20060092037A1",
        "US20070253583A1",
        "US8234395B2",
        "US8483853B1",
        "US9084058B2",
        "US9137559B2",
        "US20160088036A1",
        "US20160088438A1",
        "US20160241976A1",
        "US20170236512A1",
        "US20170242653A1",
        "US20170265017A1",
        "US20170337273A1",
        "US20180047394A1",
        "US9949054B2",
        "US20180107446A1",
        "US9978390B2",
        "US20190295386A1",
        "US10499181B1",
        "US20200064456A1",
        "US20200077222A1",
        "US10686858B1",
        "US20200382647A1",
        "US20210099829A1",
        "US20210297168A1"
    ],
    "citations_ftf": [
        "US20210049911A1"
    ],
    "citedby_own": [],
    "citedby_ftf": [
        "US9954996B2",
        "USD738889S1",
        "US20150350141A1",
        "US9826306B2",
        "US10181323B2",
        "US11431836B2",
        "US10992795B2",
        "CN111343060B",
        "US20220279063A1",
        "US10446165B2",
        "US10372298B2",
        "DK201870364A1",
        "US11175880B2",
        "US10959029B2",
        "US10587430B1",
        "US11024331B2",
        "US11100923B2",
        "US10867604B2",
        "US11120794B2",
        "US10996917B2",
        "DK201970533A1",
        "US11363071B2",
        "CN114168103A",
        "US10904029B2",
        "US10871943B1",
        "US11172328B2",
        "US11308958B2",
        "US11533116B2",
        "EP3883149A1",
        "US11079913B1",
        "US11757982B2",
        "US20220086579A1",
        "US11392291B2",
        "US11375463B2",
        "US11551700B2",
        "US20220238091A1",
        "US11671697B2",
        "WO2022235651A1",
        "US11360634B1",
        "US11770600B2",
        "WO2023056343A1",
        "WO2023056299A1"
    ]
}