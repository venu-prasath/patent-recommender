{
    "patent_id": "US-11386075-B2",
    "title": "Methods for detecting and interpreting data anomalies, and related systems and devices ",
    "assignee": "DataRobot, Inc.",
    "publication_date": "2022-07-12",
    "patent_link": "https://patents.google.com/patent/US11386075B2/en",
    "inventors": [
        "Amanda Claire Schierz",
        "Jeremy Achin",
        "Zachary Albert Mayer"
    ],
    "classifications": [
        "G06Q10/0635",
        "G06F16/2365",
        "G06F16/2379",
        "G06N20/00",
        "G06N20/20",
        "G06N5/025",
        "G06Q10/06375",
        "G06Q30/0185",
        "H04L63/1425",
        "G06N20/10",
        "G06N5/046",
        "G06Q40/02",
        "G06Q40/08"
    ],
    "abstract": "Methods for detection of anomalous data samples from a plurality of data samples are provided. In some embodiments, an anomaly detection procedure that includes a plurality of tasks is executed to identify the anomalous data samples from the plurality of data samples.",
    "claims": "\n1. An anomaly detection method comprising:\nobtaining a data set comprising plurality of data samples, each of the plurality of data samples associated with respective values for a set of features;\nidentifying a respective data type of each of the features;\nautomatically generating an anomaly detection blueprint based on the respective data types of one or more of the features, the anomaly detection blueprint comprising a machine-executable module encoding an anomaly detection procedure, the anomaly detection procedure including a plurality of tasks, wherein one or more of the tasks are selected based on a size of the data set and/or the respective data types of the one or more features; and\nexecuting the machine-executable module, thereby performing the anomaly detection procedure, wherein performing the anomaly detection procedure includes identifying a subset of the plurality of data samples as a set of anomalous data samples.\n2. The method of claim 1, wherein the one or more features include a particular feature, wherein the identified data type of the particular feature is a numerical data type, and wherein the anomaly detection procedure corresponding to the anomaly detection blueprint does not include a task of performing normalization, standardization, or ridit transformation of the respective values of the plurality of data samples for the particular feature having the numerical data type.\n3. The method of claim 1, wherein:\nthe one or more features include a particular feature, the data type of the particular feature being a numerical data type,\nthe plurality of data samples include one or more first data samples and one or more second data samples, wherein the respective value of the particular feature for each of the first data samples is missing and wherein the respective value of the particular feature for each of the second data samples is non-missing, and\nthe tasks of the anomaly detection procedure corresponding to the anomaly detection blueprint include a missing value imputation task comprising replacing the respective missing value of the particular feature of each of the first data samples with a median of the non-missing values of the particular feature for the second data samples.\n4. The method of claim 1, wherein:\nthe one or more features include a particular feature,\nthe plurality of data samples includes one or more data samples wherein the respective value for the particular feature is missing, and\nthe tasks of the anomaly detection procedure corresponding to the anomaly detection blueprint include a feature engineering task comprising:\nadding a new feature to the set of features and determining the respective value of the new feature for each of the plurality of data samples, the respective value of the new feature for each of the plurality of data samples indicating whether the respective data sample is missing a value for the particular feature.\n5. The method of claim 1, wherein:\neach of the plurality of data samples is further associated with a respective value of a label;\nthe tasks of the anomaly detection procedure corresponding to the anomaly detection blueprint further include:\nobtaining a respective anomaly score for each of the plurality of data samples, the respective anomaly score for each data sample indicating a predicted extent to which the data sample is anomalous; and\nidentifying, based on the anomaly scores, the set of anomalous data samples from the plurality of data samples; and\nthe method further includes:\ndetermining a correlation between the respective anomaly score or the respective anomaly classification and the respective value of the label for each of the plurality of data samples;\nresponsive to the correlation being less than a threshold correlation, removing the set of anomalous data samples from the plurality of data samples; and\notherwise, responsive to the correlation being at least the threshold correlation, retaining the set of anomalous data samples in the plurality of data samples.\n6. The method of claim 1, wherein the one or more features include a particular feature, the data type of the particular feature being a categorical data type, and wherein the tasks of the anomaly detection procedure corresponding to the anomaly detection blueprint include a feature engineering task comprising:\nfor each of the plurality of data samples, replacing the respective value of the particular feature having the categorical data type with a respective frequency of occurrence of the respective value of the particular feature in the plurality of data samples.\n7. The method of claim 1, wherein the one or more features include one or more particular features, the data type of each of the one or more particular features being a free text data type, and wherein the tasks of the anomaly detection procedure corresponding to the anomaly detection blueprint include a feature engineering task comprising:\nfor each of the one or more particular features having the free text data type:\nidentifying a plurality of terms that occur most frequently within a combined free text corpus comprising the values for the respective particular feature for the plurality of data samples; and\ngenerating a sample-term matrix, wherein each row of the sample-term matrix corresponds to a respective data sample in the plurality of data samples, wherein each column of the sample-term matrix corresponds to a respective term in the plurality of terms that occur most frequently, and wherein each element of the sample-term matrix indicates whether the term corresponding to the column of the element occurs in the data sample corresponding to the row of the element, within the values of the respective particular feature.\n8. The method of claim 7, wherein the feature engineering task further comprises:\nfor each sample-term matrix corresponding to each of the one or more particular features having the free text data type:\ngenerating a compact matrix by performing Singular-Value Decomposition (SVD) on the sample-term matrix, wherein a quantity of columns in the compact matrix is less than a quantity of columns in the sample-term matrix, and wherein each row of the compact matrix corresponds to a respective data sample in the plurality of data samples;\nreplacing the respective particular feature in the set of features with a respective engineered feature; and\nfor each of the plurality of data samples, setting a respective value of the respective engineered feature to the row of the compact matrix corresponding to the respective data sample.\n9. The method of claim 1, further comprising identifying a size of the data set, wherein the generating of the anomaly detection blueprint is further based on the size of the data set, wherein the set of anomalous data samples is identified using an anomaly detection process, and wherein the anomaly detection process is selected from a group of anomaly selection processes based, at least in part, on a number of data samples in the data set and/or on a storage size of the data set.\n10. The method of claim 9, wherein the number of data samples in the data set is less than a first sample number threshold, wherein the storage size of the data set is less than a storage size threshold, and wherein the group of anomaly selection processes consists of an isolation forest process, a double median absolute deviance (MAD) process, a one class support vector machine (SVM) process, a local outlier factor (LOF) process, and a Mahalanobis distance process.\n11. The method of claim 9, wherein the number of data samples in the data set is greater than a first sample number threshold and less than a second sample number threshold, wherein the storage size of the data set is less than a storage size threshold, and wherein the group of anomaly selection processes consists of an isolation forest process, a double median absolute deviance (MAD) process, and a Mahalanobis distance process.\n12. The method of claim 9, wherein (1) the number of data samples in the data set is greater than a first sample number threshold and a second sample number threshold, or (2) the storage size of the data set is greater than a storage size threshold, and wherein the group of anomaly selection processes consists of a double median absolute deviance (MAD) process and a Mahalanobis distance process.\n13. The method of claim 1, wherein the identifying the set of anomalous data samples comprises:\ndetermining, by an unsupervised anomaly detection process, for each of the plurality of data samples, a respective anomaly score indicating an extent to which the respective data sample is anomalous;\nadding the anomaly scores to the data set as respective values of a label of the plurality of data samples, thereby generating a labeled data set; and\napplying a supervised anomaly detection model to the labeled data set to identify the set of anomalous data samples.\n14. The method of claim 1, wherein identifying the subset of the plurality of data samples as the set of anomalous data samples comprises:\ndetermining, by an unsupervised anomaly detection process, for each of the plurality of data samples, a respective anomaly score indicating an extent to which the respective data sample is anomalous, and\nwherein the set of anomalous data samples comprises a fraction of the plurality of data samples having greatest anomaly scores.\n15. The method of claim 14, wherein the tasks of the anomaly detection procedure corresponding to the anomaly detection blueprint further include:\nassigning a respective value of a label to each of the plurality of data samples based on the identified set of anomalous data samples, the respective value of the label assigned to each data sample indicating whether the respective data sample is anomalous; and\nusing the labeled data samples as training data to train a supervised anomaly detection model to infer whether data samples are anomalous based on the values of the features associated with the data samples.\n16. An anomaly detection method comprising:\nobtaining a data set comprising plurality of data samples, each of the plurality of data samples associated with respective values for a set of features;\nidentifying a respective data type of each of the features;\nautomatically generating an anomaly detection blueprint based on the respective data types of one or more of the features, the anomaly detection blueprint comprising a machine-executable module encoding an anomaly detection procedure, the anomaly detection procedure including a plurality of tasks, wherein one or more of the tasks are selected based on a size of the data set and/or the respective data types of the one or more features; and\nexecuting the machine-executable module, thereby performing the anomaly detection procedure, wherein performing the anomaly detection procedure includes identifying a subset of the plurality of data samples as a set of anomalous data samples,\nwherein the one or more features include one or more particular features, the data type of the one or more particular features being a free text data type, and wherein the tasks of the anomaly detection procedure corresponding to the anomaly detection blueprint include a feature engineering task comprising:\nidentifying a plurality of terms that occur most frequently within a combined free text corpus comprising the values for the one or more particular features having the free text data type for the plurality of data samples; and\ngenerating a sample-term matrix, wherein each row of the sample-term matrix corresponds to a respective data sample in the plurality of data samples, wherein each column of the sample-term matrix corresponds to a respective term in the plurality of terms that occur most frequently, and wherein each element of the sample-term matrix indicates whether the term corresponding to the column of the element occurs in the data sample corresponding to the row of the element, within the values of the one or more particular features having the free text data type.\n17. The method of claim 7, wherein the feature engineering task further comprises:\nreplacing the one or more particular features in the set of features with an engineered feature, and\nfor each of the plurality of data samples, setting a respective value of the engineered feature to the row of the sample-term matrix corresponding to the respective data sample.\n18. The method of claim 17, wherein a number of unique terms in the combined free text corpus is greater than 5,000, wherein a number of unique terms in the plurality of terms that occur most frequently within the combined free text corpus is 5,000, and wherein a number of columns of the sample-term matrix is 5,000.\n19. The method of claim 7, wherein the feature engineering task further comprises:\ngenerating a compact matrix by performing Singular-Value Decomposition (SVD) on the sample-term matrix, wherein a quantity of columns in the compact matrix is less than a quantity of columns in the sample-term matrix, and wherein each row of the compact matrix corresponds to a respective data sample in the plurality of data samples;\nreplacing the one or more particular features in the set of features with an engineered feature; and\nfor each of the plurality of data samples, setting a respective value of the engineered feature to the row of the compact matrix corresponding to the respective data sample.\n20. A system comprising:\none or more computers and one or more storage devices storing instructions that are operable, when executed by the one or more computers, to cause the one or more computers to perform operations including:\nobtaining a data set comprising plurality of data samples, each of the plurality of data samples associated with respective values for a set of features;\nidentifying a respective data type of each of the features;\nautomatically generating an anomaly detection blueprint based on the respective data types of one or more of the features, the anomaly detection blueprint comprising a machine-executable module encoding an anomaly detection procedure, the anomaly detection procedure including a plurality of tasks, wherein one or more of the tasks are selected based on a size of the data set and/or the respective data types of the one or more features; and\nexecuting the machine-executable module, thereby performing the anomaly detection procedure, wherein performing the anomaly detection procedure includes identifying a subset of the plurality of data samples as a set of anomalous data samples.\n21. A computer storage device storing instructions that are operable, when executed by the one or more computers, to cause the one or more computers to perform operations including:\none or more computers and one or more storage devices storing instructions that are operable, when executed by the one or more computers, to cause the one or more computers to perform operations including:\nobtaining a data set comprising plurality of data samples, each of the plurality of data samples associated with respective values for a set of features;\nidentifying a respective data type of each of the features;\nautomatically generating an anomaly detection blueprint based on the respective data types of one or more of the features, the anomaly detection blueprint comprising a machine-executable module encoding an anomaly detection procedure, the anomaly detection procedure including a plurality of tasks, wherein one or more of the tasks are selected based on a size of the data set and/or the respective data types of the one or more features; and\nexecuting the machine-executable module, thereby performing the anomaly detection procedure, wherein performing the anomaly detection procedure includes identifying a subset of the plurality of data samples as a set of anomalous data samples.",
    "status": "Active",
    "citations_own": [
        "US20060161592A1",
        "US8887281B2",
        "US20160042287A1",
        "US20170206466A1",
        "US20180293462A1",
        "US20180293501A1",
        "US20190295000A1",
        "US20190325333A1",
        "US20190325335A1"
    ],
    "citations_ftf": [],
    "citedby_own": [
        "US20200351283A1",
        "US20210314333A1",
        "US20220012625A1",
        "US20220207691A1"
    ],
    "citedby_ftf": [
        "US11334832B2",
        "US11494775B2",
        "US20210064922A1",
        "US11455638B2",
        "WO2021084286A1",
        "US11580554B2",
        "US11394774B2",
        "US20230067026A1",
        "US11501239B2",
        "CN111737382A",
        "US20230176562A1",
        "US20220027916A1",
        "CN111857097B",
        "US20220092612A1",
        "US20220107847A1",
        "US20220197679A1",
        "KR20220091291A",
        "US20220300903A1",
        "US11544715B2",
        "US11336698B1",
        "US11647052B2",
        "US11178188B1",
        "US11303647B1",
        "US11271973B1",
        "US11271972B1",
        "US20220366316A1",
        "US20220382833A1",
        "US20220407882A1",
        "US20230111216A1",
        "US11580842B1",
        "WO2023126078A1",
        "US20230237044A1",
        "EP4243341A1",
        "KR102437098B1",
        "CN116304641B"
    ]
}