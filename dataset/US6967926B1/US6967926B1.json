{
    "patent_link": "https://patents.google.com/patent/US6967926B1/en",
    "patent_id": "US6967926B1",
    "title": "Method and apparatus for using barrier phases to limit packet disorder in a packet switching system",
    "abstract": "Methods and apparatus are disclosed for using barrier phases to limit the disorder of packets which may be used in a computer or communications system. In one packet switching system, source nodes include an indication of their current barrier state in sent packets. For each barrier state, a predetermined range of sequence numbers may be used or a predetermined number of packets may be sent by a source node. The source, destination, and switching nodes are systematically switched between barrier phases, which is typically performed continuously in response to the flow of barrier request and barrier acknowledgement packets or signals. Each source node broadcasts to all forward connected nodes a barrier request to change to a next barrier state. After a switching node has received a barrier request on all incoming links, the switching node propagates the barrier request. Upon receiving barrier requests over all links, each destination stage relays an acknowledgement message to all connected source elements, which then send a barrier acknowledgement in much the same way, and each source element changes its barrier state causing the sequence number or counting space to be reset, and newly sent packets to indicate the new barrier state. Upon receiving all its barrier acknowledgement messages, each destination stage changes its barrier state, and then the destination can manipulate (e.g., resequence, reassemble, send, place in an output queue, etc.) packets marked with the previous barrier state as it knows that every packet from the previous barrier state has been received. This transition of barrier phases and limiting the number of packets sent per barrier phases may be used to limit the range of the sequence number space and the size of outgoing, resequencing, and reassembling buffers, as well providing a packet time-out mechanism which may be especially useful when non-continuous sequence numbers or time-stamps are included in packets for resequencing and/or reassembly purposes.",
    "inventors": [
        "John J. Williams, Jr.",
        "Thomas Dejanovic",
        "Jonathan E. Michelson"
    ],
    "assignee": "Cisco Technology Inc",
    "classifications": [
        "H04L47/24",
        "H04L47/10",
        "H04L47/26",
        "H04L47/33",
        "H04L47/34",
        "H04L49/1523",
        "H04L49/90",
        "H04L49/9094"
    ],
    "claims": "\n1. A method for routing a plurality of packets between a first source of a plurality of sources and a first destination of a plurality of destinations in a packet switching system, the method comprising:\neach of the plurality of sources maintaining at least one source state indication;\neach of the plurality of destinations maintaining at least one destination state indication;\nthe first source sending a first set of packets of the plurality of packets to the first destination, each packet of the first set of packets including a first state indication reflected in one of the at least one source state indications maintained in the first source;\nafter sending the first set of packets, the first source sending a source barrier message over each of a plurality of paths leading to the first destination through the packet switching system;\nin response to receiving a destination barrier message generated in response to said sent plurality of source barrier messages, the first destination recognizing a barrier transition or a new barrier state and updating one of the at least one destination state indication; and\nthe destination manipulating at least one packet of the first set of packets in response the barrier transition or the new barrier state.\n2. The method of claim 1, comprising:\neach of the plurality of destinations relaying a barrier state indication of a barrier transition or the new barrier state to at least one of the plurality of sources;\nin response to receiving a first predetermined number of barrier state indications, each of the at least one of the plurality of sources sending a source barrier acknowledgement message over each of a plurality of paths leading from the at least one of the plurality of sources;\nafter receiving a second predetermined number of destination acknowledgement messages, each of the plurality of destinations relaying a barrier acknowledgement indication to the at least one of the plurality of sources; and\nin response to receiving the first predetermined number of barrier acknowledgement indications, each of the at least one of the plurality of sources updating at least one of said at least one source state indication.\n3. A method performed by a switching element of a packet switching system, the method comprising:\nmaintaining a plurality of output queues for containing output packets to be sent over a plurality of outgoing links to a plurality of other components of the packet switching system\nmaintaining a barrier state;\nupdating the barrier state in response to receiving a barrier state transition request on each of a plurality of incoming links;\nplacing input packet containing the barrier state transition request in at least each of the output queues that are occupied by at least one output packet; and\nsending output packets over the plurality of outgoing links to the plurality of other components of the packet switching system.\n4. The method of claim 3, wherein said sending output packets includes sending said input packet containing the barrier state transition request out each of the outgoing plurality of links.\n5. The method of claim 3, comprising sending an outgoing barrier acknowledgement message out each of the outgoing plurality of links in response to receiving an incoming barrier acknowledgement message over said each of a plurality of incoming links.\n6. A packet switching system comprising:\na plurality of source elements, each of the plurality of source elements including: a source barrier state maintainer to indicate a current source state; a barrier accumulator to receive indications of a first subset of a plurality of barrier request and acknowledgement messages, to determine when a particular barrier request or acknowledgement message may be sent, and to update the current source state;\na plurality of switching nodes, each of the plurality of switching nodes including: a switching node barrier state maintainer to indicate a current node state; a switching node barrier accumulator to receive indications of a second subset of the plurality of barrier request and acknowledgement messages, to determine when a second particular barrier request or acknowledgement message may be forwarded to a next switching node or destination element, and to update the current node state; and\na plurality of destination elements; each of the plurality of destination elements including: a destination barrier state maintainer to indicate a current destination state; a destination barrier accumulator to receive a third subset of the plurality of barrier request and acknowledgement messages, to determine when a particular barrier request or acknowledgement message may be relayed to at least one of the plurality of source elements, and to update the current destination state; and a packet sending mechanism to determine when a particular packet associated with a particular state may be manipulated or sent from the particular destination element based on the current or a previous destination state.\n7. One or more computer-readable media containing computer-executable instructions for performing steps by a switching element of a packet switching system, said steps comprising:\nmaintaining a plurality of output queues for containing output packets to be sent over a plurality of outgoing links to a plurality of other components of the packet switching system\nmaintaining a barrier state;\nupdating the barrier state in response to receiving a barrier state transition request on each of a plurality of incoming links;\nsending said input packets over the plurality of outgoing links to the plurality of other components of the packet switching system.\n8. The computer-readable media of claim 7, wherein said sending output packets includes sending said input packet containing the barrier state transition request out each of the outgoing plurality of links.\n9. The computer-readable media of claim 7, wherein said steps comprise: sending an outgoing barrier acknowledgement message out each of the outgoing plurality of links in response to receiving an incoming barrier acknowledgement message over said each of a plurality of incoming links.\n10. A switching element of a packet switching system, the switching element comprising:\nmeans for maintaining a plurality of output queues for containing outputs packets to be sent over a plurality of outgoing links to a plurality of other components of the packet switching system\nmeans for maintaining a barrier state;\nmeans for updating the barrier state in response to receiving a barrier state transition request on each of a plurality of incoming links;\nmeans for placing input packet containing the barrier state transition request in at least each of the output queues that are occupied by at least one output packet; and\nmeans for sending output packets over the plurality of outgoing links to the plurality of other components of the packet switching system.\n11. The switching element of claim 10, wherein said means for sending output packets includes means for sending said input packet containing the barrier state transition request out each of the outgoing plurality of links.\n12. The switching element of claim 10, comprising means for sending an outgoing barrier acknowledgement message out each of the outgoing plurality of links in response to receiving an incoming barrier acknowledgement message over said each of a plurality of incoming links.",
    "status": "Expired - Lifetime",
    "citations_own": [
        "US4491945A",
        "US4494230A",
        "US4630260A",
        "US4734907A",
        "US4893304A",
        "US5127000A",
        "US5173897A",
        "US5179551A",
        "US5179556A",
        "US5229991A",
        "US5253251A",
        "US5260935A",
        "US5396491A",
        "US5402415A",
        "US5463620A",
        "US5842040A",
        "US6061345A",
        "US6085303A",
        "US6285679B1",
        "US20010033569A1",
        "US6418477B1",
        "US6532211B1",
        "US6654342B1",
        "US6683850B1",
        "US6735173B1",
        "US6760307B2"
    ],
    "citations_ftf": [
        "JPH08288965A",
        "US6438137B1",
        "JP2000196075A",
        "US6870831B2"
    ],
    "citedby_own": [
        "US20020146037A1",
        "US20020181454A1",
        "US20030156538A1",
        "US20090252167A1",
        "US20110087809A1",
        "US20140177648A1",
        "US9207979B1",
        "US9444702B1",
        "US9568970B1",
        "US9590813B1",
        "US9742630B2",
        "US9769077B2",
        "US9825809B2",
        "US9825887B2",
        "US9864728B2",
        "US9928204B2",
        "US10050843B2",
        "US10063496B2",
        "US10074053B2",
        "US10084692B2",
        "US10084725B2",
        "US10218580B2",
        "US10298485B2",
        "US10313269B2",
        "US10348563B2",
        "US10355996B2",
        "US10419300B2",
        "US10452124B2",
        "US10496770B2",
        "US10547514B2",
        "US10715455B2",
        "US10735335B2",
        "US10896476B2",
        "US10983910B2",
        "US11023377B2",
        "US11144457B2",
        "US11176302B2"
    ],
    "citedby_ftf": [
        "US7596139B2",
        "CA2460998C",
        "US7889742B2",
        "US8089940B2",
        "US7187687B1",
        "US6901072B1",
        "US7817659B2",
        "US8832697B2",
        "US8448162B2",
        "US8238255B2",
        "US20090279441A1",
        "US8599850B2",
        "WO2013023342A1"
    ]
}