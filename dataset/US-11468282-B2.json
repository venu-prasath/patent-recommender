{
    "patent_id": "US-11468282-B2",
    "title": "Virtual assistant in a communication session ",
    "assignee": "Apple Inc.",
    "publication_date": "2022-10-11",
    "patent_link": "https://patents.google.com/patent/US11468282B2/en",
    "inventors": [
        "Mehul K. Sanghavi",
        "Jeffrey P. Schwerdtfeger"
    ],
    "classifications": [
        "G06F40/30",
        "G06F40/35",
        "G06N3/006",
        "G06Q10/10",
        "H04L51/02",
        "H04L51/212"
    ],
    "abstract": "Disclosed are systems, methods, and non-transitory computer-readable storage media for utilizing a virtual assistant as part of a communication session. One or more of the participant users can select to utilize a virtual assistant to assist the participant users with tasks during the communication session. A user can use a communication application to enter a message directed to the virtual assistant. The virtual assistant can analyze the entered message and determine that the message was directed to the virtual assistant rather than to the other participants of the communication session. As a result, the message will not be transmitted to the other participants of the communication session and the virtual assistant will assist the user with the identified task. A virtual assistant can assist a user with a variety of different tasks. For example, the virtual assistant can gather requested data for the user from one or more web servers, such as weather data, traffic data, etc.",
    "claims": "\n1. A non-transitory computer-readable storage medium containing instructions that, when executed by a computer processor of a first client device, cause the first client device to:\ndisplay, by the first client device, as part of a communication session that takes place within a messaging application between a first user operating the first client device and at least a second user, a first message prepared by the first user;\ndetermine, by a virtual assistant of the first client device, based on a semantic analysis of the first message, that the first message identifies a first task with which the virtual assistant can assist the first user;\nin response to determining that the first message identifies the first task, assist, by the first client device, the first user with the first task, wherein assisting the first user with the first task includes:\ndisplaying, as part of the communication session and within the messaging application, a response generated by the virtual assistant based on the first task, wherein the response is not transmitted to at least the second user; and\nreceive a user selection of the displayed response;\nin response to receiving the user selection of the displayed response, present, on the first client device and as part of the communication session, additional content generated by the virtual assistant based on the displayed response.\n2. The non-transitory computer-readable storage medium of claim 1, wherein the instructions, when executed by the computer processor, further cause the first client device to:\ndisplay, by the first client device, as part of the communication session, a second message prepared by the first user;\ndetermine, by the virtual assistant of the first client device, based on a semantic analysis of the second message, whether the second message is directed to the virtual assistant or to at least the second user;\ndetermine, by the virtual assistant of the first client device, based on the semantic analysis of the second message, that the second message is directed to at least the second user; and\nin response to determining that the second message is directed to at least the second user, transmit, by the first client device, the second message to at least the second user as part of the communication session.\n3. The non-transitory computer-readable storage medium of claim 2, wherein the instructions, when executed by the computer processor, further cause the first client device to:\ndetermine, by the virtual assistant of the first client device, based on the semantic analysis of the second message, that the second message identifies a second task with which the virtual assistant can assist the first user; and\nin response to determining that the second message identifies the second task, assist, by the first client device, the first user with the second task.\n4. The non-transitory computer-readable storage medium of claim 3, wherein the instructions, when executed by the computer processor, further cause the first client device to:\npresent, on the first client device and as part of the communication session, a request message asking the first user whether the first user would like the virtual assistant to assist the first user with the second task; and\nreceive an input indicating that the first user would like the virtual assistant to assist the first user with the second task.\n5. The non-transitory computer-readable storage medium of claim 1, wherein the displayed response includes one or more words determined based on the first task.\n6. The non-transitory computer-readable storage medium of claim 1, wherein the instructions, when executed by the computer processor, further cause the first client device to:\ngenerate a second message based on the displayed response; and\ntransmit the second message to at least the second user.\n7. The non-transitory computer-readable storage medium of claim 1, wherein the instructions, when executed by the computer processor, further cause the first client device to:\nidentify, by the virtual assistant of the first client device, a plurality of applications installed on the first client device that are capable of completing the first task;\npresent, on the first client device and as part of the communication session, a request message prompting the first user to select an application from the plurality of applications to complete the first task;\nreceive an input from the first user selecting a first application from the plurality of applications;\nin response to receiving the input from the first user, execute the selected first application to perform the first task; and\npresent, on the first client device and as part of the communication session, a confirmation message indicating the first task was performed.\n8. The non-transitory computer-readable storage medium of claim 1, wherein the first task comprises retrieving information associated with the first message.\n9. The non-transitory computer-readable storage medium of claim 1, wherein the instructions, when executed by the computer processor, further cause the first client device to:\ntransmit, to a second client device as part of the communication session, a notification message indicating that the virtual assistant is being utilized in relation to the communication session, wherein the second client device is associated with the second user.\n10. The non-transitory computer-readable storage medium of claim 1, wherein the first task comprises performing a financial transaction between the first user and at least the second user.\n11. The non-transitory computer-readable storage medium of claim 10, wherein the instructions, when executed by the computer processor, further cause the first client device to:\nidentify, by the virtual assistant of the first client device, a set of financial applications installed on both the first client device and a second client device that are capable of completing the financial transaction, wherein the second client device is associated with the second user;\ntransmit, to the second client device, a second message as part of the communication session, the second message prompting the second user to select a financial application from the set of financial applications to complete the financial transaction;\nreceive, from the second client device, a first reply message identifying the financial application selected from the set of financial applications selected by the second user to complete the financial transaction; and\nexecute the financial application.\n12. The non-transitory computer-readable storage medium of claim 1, wherein the first task comprises scheduling a meeting including the first user and at least the second user.\n13. The non-transitory computer-readable storage medium of claim 12, wherein the instructions, when executed by the computer processor, further cause the first client device to:\nidentify, based on calendar data for the first user and at least the second user, a set of candidate times for the meeting;\nplace a temporary hold on the set of candidate times, wherein the set of candidate times appear booked in calendars of the first user and at least the second user while the temporary hold is in place;\npresent the first user and at least the second user with a poll to select from the set of candidate times, the poll presented as part of the communication session; and\nschedule the meeting during one of the candidate times based on response data received from the first user and at least the second user to the poll.\n14. The non-transitory computer-readable storage medium of claim 1, wherein the first task comprises determining an estimated time of arrival for at least the second user.\n15. The non-transitory computer-readable storage medium of claim 14, wherein determining the estimated time of arrival for at least the second user comprises:\nrequesting authorization to access location information of at least the second user; and\nin accordance with a determination that the second user selects to authorize access to the location information of at least the second user:\ngathering the location information of at least the second user; and\ndisplaying, based on the location information of at least the second user, the estimated time of arrival for at least the second user.\n16. A method, comprising:\nat a first client device with one or more processors, memory, and a display:\ndisplaying, by the first client device, as part of a communication session that takes place within a messaging application between a first user operating the first client device and at least a second user, a first message prepared by the first user;\ndetermining, by a virtual assistant of the first client device, based on a semantic analysis of the first message, that the first message identifies a first task with which the virtual assistant can assist the first user;\nin response to determining that the first message identifies the first task, assisting, by the first client device, the first user with the first task, wherein assisting the first user with the first task includes:\ndisplaying, as part of the communication session and within the messaging application, a response generated by the virtual assistant based on the first task, wherein the response is not transmitted to at least the second user; and\nreceiving a user selection of the displayed response;\nin response to receiving the user selection of the displayed response, presenting, on the first client device and as part of the communication session, additional content generated by the virtual assistant based on the displayed response.\n17. The method of claim 16, further comprising:\ndisplaying, by the first client device, as part of the communication session, a second message prepared by the first user;\ndetermining, by the virtual assistant of the first client device, based on a semantic analysis of the second message, whether the second message is directed to the virtual assistant or to at least the second user;\ndetermining, by the virtual assistant of the first client device, based on the semantic analysis of the second message, that the second message is directed to at least the second user; and\nin response to determining that the second message is directed to at least the second user, transmitting, by the first client device, the second message to at least the second user as part of the communication session.\n18. The method of claim 17, further comprising:\ndetermining, by the virtual assistant of the first client device, based on the semantic analysis of the second message, that the second message identifies a second task with which the virtual assistant can assist the first user; and\nin response to determining that the second message identifies the second task, assisting, by the first client device, the first user with the second task.\n19. The method of claim 18, further comprising:\npresenting, on the first client device and as part of the communication session, a request message asking the first user whether the first user would like the virtual assistant to assist the first user with the second task; and\nreceiving an input indicating that the first user would like the virtual assistant to assist the first user with the second task.\n20. The method of claim 16, wherein the displayed response includes one or more words determined based on the first task.\n21. The method of claim 16, further comprising:\ngenerating a second message based on the displayed response; and\ntransmitting the second message to at least the second user.\n22. The method of claim 16, further comprising:\nidentifying, by the virtual assistant of the first client device, a plurality of applications installed on the first client device that are capable of completing the first task;\npresenting, on the first client device and as part of the communication session, a request message prompting the first user to select an application from the plurality of applications to complete the first task;\nreceiving an input from the first user selecting a first application from the plurality of applications;\nin response to receiving the input from the first user, executing the selected first application to perform the first task; and\npresenting, on the first client device and as part of the communication session, a confirmation message indicating the first task was performed.\n23. The method of claim 16, wherein the first task comprises retrieving information associated with the first message.\n24. The method of claim 16, further comprising:\ntransmitting, to a second client device as part of the communication session, a notification message indicating that the virtual assistant is being utilized in relation to the communication session, wherein the second client device is associated with the second user.\n25. The method of claim 16, wherein the first task comprises performing a financial transaction between the first user and at least the second user.\n26. The method of claim 25, further comprising:\nidentifying, by the virtual assistant of the first client device, a set of financial applications installed on both the first client device and a second client device that are capable of completing the financial transaction, wherein the second client device is associated with the second user;\ntransmitting, to the second client device, a second message as part of the communication session, the second message prompting the second user to select a financial application from the set of financial applications to complete the financial transaction;\nreceiving, from the second client device, a first reply message identifying the financial application selected from the set of financial applications selected by the second user to complete the financial transaction; and\nexecuting the financial application.\n27. The method of claim 16, wherein the first task comprises scheduling a meeting including the first user and at least the second user.\n28. The method of claim 27, further comprising:\nidentifying, based on calendar data for the first user and at least the second user, a set of candidate times for the meeting;\nplacing a temporary hold on the set of candidate times, wherein the set of candidate times appear booked in calendars of the first user and at least the second user while the temporary hold is in place;\npresenting the first user and at least the second user with a poll to select from the set of candidate times, the poll presented as part of the communication session; and\nscheduling the meeting during one of the candidate times based on response data received from the first user and at least the second user to the poll.\n29. The method of claim 16, wherein the first task comprises determining an estimated time of arrival for at least the second user.\n30. The method of claim 29, wherein determining the estimated time of arrival for at least the second user comprises:\nrequesting authorization to access location information of at least the second user; and\nin accordance with a determination that the second user selects to authorize access to the location information of at least the second user:\ngathering the location information of at least the second user; and\ndisplaying, based on the location information of at least the second user, the estimated time of arrival for at least the second user.\n31. A first client device, comprising:\na computer processor; and\na memory containing instructions that, when executed by the computer processor, cause the first client device to:\ndisplay, by the first client device, as part of a communication session that takes place within a messaging application between a first user operating the first client device and at least a second user, a first message prepared by the first user;\ndetermine, by a virtual assistant of the first client device, based on a semantic analysis of the first message, that the first message identifies a first task with which the virtual assistant can assist the first user;\nin response to determining that the first message identifies the first task, assist, by the first client device, the first user with the first task, wherein assisting the first user with the first task includes:\ndisplaying, as part of the communication session and within the messaging application, a response generated by the virtual assistant based on the first task, wherein the response is not transmitted to at least the second user; and\nreceive a user selection of the displayed response;\nin response to receiving the user selection of the displayed response, present, on the first client device and as part of the communication session, additional content generated by the virtual assistant based on the displayed response.\n32. The first client device of claim 31, wherein the instructions, when executed by the computer processor, further cause the first client device to:\ndisplay, by the first client device, as part of the communication session, a second message prepared by the first user;\ndetermine, by the virtual assistant of the first client device, based on a semantic analysis of the second message, whether the second message is directed to the virtual assistant or to at least the second user;\ndetermine, by the virtual assistant of the first client device, based on the semantic analysis of the second message, that the second message is directed to at least the second user; and\nin response to determining that the second message is directed to at least the second user, transmit, by the first client device, the second message to at least the second user as part of the communication session.\n33. The first client device of claim 32, wherein the instructions, when executed by the computer processor, further cause the first client device to:\ndetermine, by the virtual assistant of the first client device, based on the semantic analysis of the second message, that the second message identifies a second task with which the virtual assistant can assist the first user; and\nin response to determining that the second message identifies the second task, assist, by the first client device, the first user with the second task.\n34. The first client device of claim 33, wherein the instructions, when executed by the computer processor, further cause the first client device to:\npresent, on the first client device and as part of the communication session, a request message asking the first user whether the first user would like the virtual assistant to assist the first user with the second task; and\nreceive an input indicating that the first user would like the virtual assistant to assist the first user with the second task.\n35. The first client device of claim 31, wherein the displayed response includes one or more words determined based on the first task.\n36. The first client device of claim 31, wherein the instructions, when executed by the computer processor, further cause the first client device to:\ngenerate a second message based on the displayed response; and\ntransmit the second message to at least the second user.\n37. The first client device of claim 31, wherein the instructions, when executed by the computer processor, further cause the first client device to:\nidentify, by the virtual assistant of the first client device, a plurality of applications installed on the first client device that are capable of completing the first task;\npresent, on the first client device and as part of the communication session, a request message prompting the first user to select an application from the plurality of applications to complete the first task;\nreceive an input from the first user selecting a first application from the plurality of applications;\nin response to receiving the input from the first user, execute the selected first application to perform the first task; and\npresent, on the first client device and as part of the communication session, a confirmation message indicating the first task was performed.\n38. The first client device of claim 31, wherein the first task comprises retrieving information associated with the first message.\n39. The first client device of claim 31, wherein the instructions, when executed by the computer processor, further cause the first client device to:\ntransmit, to a second client device as part of the communication session, a notification message indicating that the virtual assistant is being utilized in relation to the communication session, wherein the second client device is associated with the second user.\n40. The first client device of claim 31, wherein the first task comprises performing a financial transaction between the first user and at least the second user.\n41. The first client device of claim 40, wherein the instructions, when executed by the computer processor, further cause the first client device to:\nidentify, by the virtual assistant of the first client device, a set of financial applications installed on both the first client device and a second client device that are capable of completing the financial transaction, wherein the second client device is associated with the second user;\ntransmit, to the second client device, a second message as part of the communication session, the second message prompting the second user to select a financial application from the set of financial applications to complete the financial transaction;\nreceive, from the second client device, a first reply message identifying the financial application selected from the set of financial applications selected by the second user to complete the financial transaction; and\nexecute the financial application.\n42. The first client device of claim 31, wherein the first task comprises scheduling a meeting including the first user and at least the second user.\n43. The first client device of claim 42, wherein the instructions, when executed by the computer processor, further cause the first client device to:\nidentify, based on calendar data for the first user and at least the second user, a set of candidate times for the meeting;\nplace a temporary hold on the set of candidate times, wherein the set of candidate times appear booked in calendars of the first user and at least the second user while the temporary hold is in place;\npresent the first user and at least the second user with a poll to select from the set of candidate times, the poll presented as part of the communication session; and\nschedule the meeting during one of the candidate times based on response data received from the first user and at least the second user to the poll.\n44. The first client device of claim 31, wherein the first task comprises determining an estimated time of arrival for at least the second user.\n45. The first client device of claim 44, wherein determining the estimated time of arrival for at least the second user comprises:\nrequesting authorization to access location information of at least the second user; and\nin accordance with a determination that the second user selects to authorize access to the location information of at least the second user:\ngathering the location information of at least the second user; and\ndisplaying, based on the location information of at least the second user, the estimated time of arrival for at least the second user."
}